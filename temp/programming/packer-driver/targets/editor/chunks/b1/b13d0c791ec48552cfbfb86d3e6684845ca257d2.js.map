{"version":3,"sources":["file:///E:/CocosCreator/StormSunder_Github/StormSunder/assets/module_storm_sunder/Script/Component/ExpPropComponent.ts"],"names":["_decorator","Component","Label","tween","Tween","Vec3","ccclass","property","ExpPropComponent","start","showExp","exp","lb","string","node","active","stopAllByTarget","worldPos","worldPosition","clone","to","x","y","z","easing","call","removeFromParent","destroy","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAoBC,MAAAA,K,OAAAA,K;AAAaC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;;;;;;;;OAC9D;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;kCAGjBQ,gB,WADZF,OAAO,CAAC,kBAAD,C,UAGHC,QAAQ,CAACL,KAAD,C,2BAHb,MACaM,gBADb,SACsCP,SADtC,CACgD;AAAA;AAAA;;AAAA;AAAA;;AAK5CQ,QAAAA,KAAK,GAAG,CAEP,CAP2C,CAS5C;;;AACAC,QAAAA,OAAO,CAACC,GAAD,EAAc;AACjB,eAAKC,EAAL,CAAQC,MAAR,GAAkB,OAAMF,GAAI,EAA5B;AACA,eAAKC,EAAL,CAAQE,IAAR,CAAaC,MAAb,GAAsB,IAAtB;AAEAX,UAAAA,KAAK,CAACY,eAAN,CAAsB,KAAKF,IAA3B,EAJiB,CAKjB;;AACA,gBAAMG,QAAQ,GAAG,KAAKH,IAAL,CAAUI,aAAV,CAAwBC,KAAxB,EAAjB;AACAhB,UAAAA,KAAK,CAAC,KAAKW,IAAN,CAAL,CACKM,EADL,CACQ,GADR,EACa;AAAEF,YAAAA,aAAa,EAAE,IAAIb,IAAJ,CAASY,QAAQ,CAACI,CAAlB,EAAqBJ,QAAQ,CAACK,CAAT,GAAa,GAAlC,EAAuCL,QAAQ,CAACM,CAAhD;AAAjB,WADb,EACoF;AAAEC,YAAAA,MAAM,EAAE;AAAV,WADpF,EAEKC,IAFL,CAEU,MAAM;AACR,iBAAKX,IAAL,CAAUY,gBAAV;AACA,iBAAKZ,IAAL,CAAUa,OAAV;AACH,WALL,EAMKlB,KANL;AAOH;;AAEDmB,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA5B2C,O;;;;;iBAGhC,I","sourcesContent":["import { _decorator, Component, isValid, Label, Node, tween, Tween, Vec3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ExpPropComponent')\r\nexport class ExpPropComponent extends Component {\r\n\r\n    @property(Label)\r\n    lb: Label = null;\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    //显示经验动画 \r\n    showExp(exp: number) {\r\n        this.lb.string = `EXP+${exp}`;\r\n        this.lb.node.active = true;\r\n\r\n        Tween.stopAllByTarget(this.node);\r\n        //当前节点位置 向上移动 然后销毁\r\n        const worldPos = this.node.worldPosition.clone();\r\n        tween(this.node)\r\n            .to(0.5, { worldPosition: new Vec3(worldPos.x, worldPos.y + 100, worldPos.z) }, { easing: 'quadOut' })\r\n            .call(() => {\r\n                this.node.removeFromParent();\r\n                this.node.destroy();\r\n            })\r\n            .start();\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n}\r\n\r\n\r\n"]}