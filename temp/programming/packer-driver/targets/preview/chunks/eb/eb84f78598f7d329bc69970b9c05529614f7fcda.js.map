{"version":3,"sources":["file:///E:/CocosCreator/StormSunder_Github/StormSunder/assets/scripts/GlobalMgr.ts"],"names":["_decorator","AudioMgr","AdvertMgr","ccclass","property","GlobalMgr","instance","_instance","initilize","window","__woso","SoundMr","pauseAll","pauseAllSounds","resumeAll","resumeAllSounds","TargetedAds","open","openAd","clos","closeAd","Fps","setfps","value","inst","toggleBgMusic","toggleSoundEffects","console","log","timeTest","setTimeout"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAuBA,MAAAA,U,OAAAA,U;;AACdC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,S,iBAAAA,S;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;2BAGjBK,S,WADZF,OAAO,CAAC,WAAD,C,2BAAR,MACaE,SADb,CACuB;AAEO,mBAARC,QAAQ,GAAc;AACpC,cAAI,CAAC,KAAKC,SAAV,EAAqB,KAAKA,SAAL,GAAiB,IAAIF,SAAJ,EAAjB;AACrB,iBAAO,KAAKE,SAAZ;AACH,SALkB,CAOnB;;;AACOC,QAAAA,SAAS,GAAG;AACfC,UAAAA,MAAM,CAACC,MAAP,GAAgB;AACZC,YAAAA,OAAO,EAAE;AACLC,cAAAA,QAAQ,EAAE,MAAM;AACZP,gBAAAA,SAAS,CAACC,QAAV,CAAmBO,cAAnB;AACH,eAHI;AAILC,cAAAA,SAAS,EAAE,MAAM;AACbT,gBAAAA,SAAS,CAACC,QAAV,CAAmBS,eAAnB;AACH;AANI,aADG;AASZC,YAAAA,WAAW,EAAE;AACTC,cAAAA,IAAI,EAAE,MAAM;AACRZ,gBAAAA,SAAS,CAACC,QAAV,CAAmBY,MAAnB;AACH,eAHQ;AAITC,cAAAA,IAAI,EAAE,MAAM;AACRd,gBAAAA,SAAS,CAACC,QAAV,CAAmBc,OAAnB;AACH;AANQ,aATD;AAiBZC,YAAAA,GAAG,EAAE;AACDC,cAAAA,MAAM,EAAGC,KAAD,IAAW;AACflB,gBAAAA,SAAS,CAACC,QAAV,CAAmBgB,MAAnB,CAA0BC,KAA1B;AACH;AAHA;AAjBO,WAAhB;AAuBH,SAhCkB,CAkCnB;;;AACAV,QAAAA,cAAc,GAAG;AACb;AACA;AAAA;AAAA,oCAASW,IAAT,CAAcC,aAAd,CAA4B,KAA5B;AACA;AAAA;AAAA,oCAASD,IAAT,CAAcE,kBAAd,CAAiC,KAAjC;AACH,SAvCkB,CAwCnB;;;AACAX,QAAAA,eAAe,GAAG;AACd;AACA;AAAA;AAAA,oCAASS,IAAT,CAAcC,aAAd,CAA4B,IAA5B;AACA;AAAA;AAAA,oCAASD,IAAT,CAAcE,kBAAd,CAAiC,IAAjC;AACH,SA7CkB,CA+CnB;;;AACAR,QAAAA,MAAM,GAAG;AACLS,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA;AAAA;AAAA,sCAAUtB,QAAV,CAAmBY,MAAnB,GAA4B,IAA5B;AACH,SAnDkB,CAqDnB;;;AACAE,QAAAA,OAAO,GAAG;AACNO,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA;AAAA;AAAA,sCAAUtB,QAAV,CAAmBY,MAAnB,GAA4B,KAA5B;AACH,SAzDkB,CA2DnB;;;AACAI,QAAAA,MAAM,CAACC,KAAD,EAAQ;AACVI,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBL,KAArB;AACH;;AAEDM,QAAAA,QAAQ,GAAG;AACPC,UAAAA,UAAU,CAAC,MAAM;AACbrB,YAAAA,MAAM,CAACC,MAAP,CAAcC,OAAd,CAAsBC,QAAtB;AACH,WAFS,EAEP,IAFO,CAAV;AAGH;;AApEkB,O,UACJL,S,GAA8B,I","sourcesContent":["import { Node, Prefab, _decorator, assetManager, find, instantiate } from 'cc';\r\nimport { AudioMgr } from '../core_tgx/base/AudioMgr';\r\nimport { AdvertMgr } from '../core_tgx/base/ad/AdvertMgr';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GlobalMgr')\r\nexport class GlobalMgr {\r\n    private static _instance: GlobalMgr | null = null;\r\n    public static get instance(): GlobalMgr {\r\n        if (!this._instance) this._instance = new GlobalMgr();\r\n        return this._instance;\r\n    }\r\n\r\n    //初始化__woso 挂载到window对象上\r\n    public initilize() {\r\n        window.__woso = {\r\n            SoundMr: {\r\n                pauseAll: () => {\r\n                    GlobalMgr.instance.pauseAllSounds();\r\n                },\r\n                resumeAll: () => {\r\n                    GlobalMgr.instance.resumeAllSounds();\r\n                }\r\n            },\r\n            TargetedAds: {\r\n                open: () => {\r\n                    GlobalMgr.instance.openAd();\r\n                },\r\n                clos: () => {\r\n                    GlobalMgr.instance.closeAd();\r\n                }\r\n            },\r\n            Fps: {\r\n                setfps: (value) => {\r\n                    GlobalMgr.instance.setfps(value);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    // 暂停所有声音\r\n    pauseAllSounds() {\r\n        // console.log(\"暂停游戏所有声音 oh~~~~~~~~~~~\");\r\n        AudioMgr.inst.toggleBgMusic(false);\r\n        AudioMgr.inst.toggleSoundEffects(false);\r\n    }\r\n    // 恢复所有声音\r\n    resumeAllSounds() {\r\n        // console.log(\"恢复游戏所有声音 emo~~~~~~~~~~\");\r\n        AudioMgr.inst.toggleBgMusic(true);\r\n        AudioMgr.inst.toggleSoundEffects(true);\r\n    }\r\n\r\n    //开启广告\r\n    openAd() {\r\n        console.log(\"开启广告\");\r\n        AdvertMgr.instance.openAd = true;\r\n    }\r\n\r\n    //关闭广告\r\n    closeAd() {\r\n        console.log(\"关闭广告\");\r\n        AdvertMgr.instance.openAd = false;\r\n    }\r\n\r\n    //设置帧率\r\n    setfps(value) {\r\n        console.log(\"设置帧率:\", value);\r\n    }\r\n\r\n    timeTest() {\r\n        setTimeout(() => {\r\n            window.__woso.SoundMr.pauseAll();\r\n        }, 2000);\r\n    }\r\n\r\n}\r\n"]}