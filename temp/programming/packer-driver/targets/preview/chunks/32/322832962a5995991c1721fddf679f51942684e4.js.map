{"version":3,"sources":["file:///E:/CocosCreator/StormSunder_Github/StormSunder/assets/module_storm_sunder/Script/HomeUI.ts"],"names":["Component","Label","_decorator","AttributeBonusMgr","EventDispatcher","GameEvent","ccclass","property","HomeUI","lbUserMoney","lbUserName","onLoad","node","getChildByPath","getComponent","rigisterEvent","start","upadteUserInfo","instance","on","EVENT_UPDATE_USER_MONEY","money","inst","userModel","string","toString"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAiBA,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAA4BC,MAAAA,U,OAAAA,U;;AAC/CC,MAAAA,iB,iBAAAA,iB;;AACAC,MAAAA,e,iBAAAA,e;;AACAC,MAAAA,S,iBAAAA,S;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;AAE9B;AACA;AACA;;wBAEaM,M,WADZF,OAAO,CAAC,QAAD,C,gBAAR,MACaE,MADb,SAC4BR,SAD5B,CACsC;AAAA;AAAA;AAAA,eAElCS,WAFkC,GAEb,IAFa;AAAA,eAGlCC,UAHkC,GAGd,IAHc;AAAA;;AAKxBC,QAAAA,MAAM,GAAS;AACrB,eAAKF,WAAL,GAAmB,KAAKG,IAAL,CAAUC,cAAV,CAAyB,0BAAzB,EAAqDC,YAArD,CAAkEb,KAAlE,CAAnB;AACA,eAAKc,aAAL;AACH;;AAESC,QAAAA,KAAK,GAAS;AACpB,eAAKC,cAAL;AACH;;AAEOF,QAAAA,aAAa,GAAG;AACpB;AAAA;AAAA,kDAAgBG,QAAhB,CAAyBC,EAAzB,CAA4B;AAAA;AAAA,sCAAUC,uBAAtC,EAA+D,KAAKH,cAApE,EAAoF,IAApF;AACH;;AAEOA,QAAAA,cAAc,GAAG;AACrB,cAAM;AAAEI,YAAAA;AAAF,cAAY;AAAA;AAAA,sDAAkBC,IAAlB,CAAuBC,SAAzC;AACA,eAAKd,WAAL,CAAiBe,MAAjB,GAA0BH,KAAK,CAACI,QAAN,EAA1B;AACH;;AArBiC,O","sourcesContent":["import { Button, Component, Label, Node, NodeEventType, _decorator, find } from 'cc';\r\nimport { AttributeBonusMgr } from './Manager/AttributeBonusMgr';\r\nimport { EventDispatcher } from '../../core_tgx/easy_ui_framework/EventDispatcher';\r\nimport { GameEvent } from './Enum/GameEvent';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n *HomeUI面板\r\n */\r\n@ccclass('HomeUI')\r\nexport class HomeUI extends Component {\r\n\r\n    lbUserMoney: Label = null;\r\n    lbUserName: Label = null;\r\n\r\n    protected onLoad(): void {\r\n        this.lbUserMoney = this.node.getChildByPath('TopLeft/UserInfo/LbMoney').getComponent(Label)!;\r\n        this.rigisterEvent();\r\n    }\r\n\r\n    protected start(): void {\r\n        this.upadteUserInfo();\r\n    }\r\n\r\n    private rigisterEvent() {\r\n        EventDispatcher.instance.on(GameEvent.EVENT_UPDATE_USER_MONEY, this.upadteUserInfo, this);\r\n    }\r\n\r\n    private upadteUserInfo() {\r\n        const { money } = AttributeBonusMgr.inst.userModel;\r\n        this.lbUserMoney.string = money.toString();\r\n    }\r\n\r\n}\r\n"]}