{"version":3,"sources":["file:///E:/CocosCreator/StormSunder_Github/StormSunder/assets/module_storm_sunder/RoosterStormSunder.ts"],"names":["_decorator","Component","NodeEventType","StormSunderGlobalInstance","GameUtil","tgxUIMgr","UI_Setting","StormSunderAudioMgr","GameMgr","AttributeBonusMgr","PlayerMgr","ccclass","property","RoosterStormSunder","onLoad","inst","initilize","start","initialize","registerListener","addAIPlayers","weightGeneateAIConfig","instance","initUI","btnRefresh","btnSet","btnStart","on","TOUCH_END","onClickSet","onClickStart","delay","startGame","playOneShot","getMusicIdName","show","isShowing","showUI"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAA8CC,MAAAA,a,OAAAA,a;;AAE1DC,MAAAA,yB,iBAAAA,yB;;AAEAC,MAAAA,Q,iBAAAA,Q;;AAEAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,mB,iBAAAA,mB;;AACAC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,iB,iBAAAA,iB;;AACAC,MAAAA,S,iBAAAA,S;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBZ,U;;oCAGjBa,kB,WADZF,OAAO,CAAC,oBAAD,C,gBAAR,MACaE,kBADb,SACwCZ,SADxC,CACkD;AAE9Ca,QAAAA,MAAM,GAAG;AACL;AAAA;AAAA,sDAAkBC,IAAlB,CAAuBC,SAAvB;AACA;AAAA;AAAA,0DAAoBA,SAApB,GAFK,CAGL;AACH;;AAESC,QAAAA,KAAK,GAAS;AACpB,eAAKC,UAAL;AACA,eAAKC,gBAAL;AACH;;AAEKD,QAAAA,UAAU,GAAG;AAAA;AACf;AAAA;AAAA,wCAAUH,IAAV,CAAeK,YAAf;AACA;AAAA;AAAA,wCAAUL,IAAV,CAAeM,qBAAf;AACA;AAAA;AAAA,wEAA0BC,QAA1B,CAAmCC,MAAnC;AAHe;AAIlB;;AAEDJ,QAAAA,gBAAgB,GAAG;AACf,cAAMK,UAAU,GAAG;AAAA;AAAA,sEAA0BF,QAA1B,CAAmCE,UAAtD;AACA,cAAMC,MAAM,GAAG;AAAA;AAAA,sEAA0BH,QAA1B,CAAmCG,MAAlD;AACA,cAAMC,QAAQ,GAAG;AAAA;AAAA,sEAA0BJ,QAA1B,CAAmCI,QAApD;AAEAD,UAAAA,MAAM,CAACE,EAAP,CAAUzB,aAAa,CAAC0B,SAAxB,EAAmC,MAAM,KAAKC,UAAL,EAAzC,EAA4D,IAA5D;AACAH,UAAAA,QAAQ,CAACC,EAAT,CAAYzB,aAAa,CAAC0B,SAA1B,EAAqC,MAAM,KAAKE,YAAL,EAA3C,EAAgE,IAAhE;AACH;;AAEaA,QAAAA,YAAY,GAAkB;AAAA;AACxC;AAAA;AAAA,sCAASC,KAAT,CAAe,GAAf;AACA;AAAA;AAAA,oCAAQhB,IAAR,CAAaiB,SAAb;AAFwC;AAG3C;;AAEOH,QAAAA,UAAU,GAAS;AACvB;AAAA;AAAA,0DAAoBI,WAApB,CAAgC;AAAA;AAAA,0DAAoBC,cAApB,CAAmC,CAAnC,CAAhC,EAAuE,GAAvE;AACA,cAAMC,IAAI,GAAG;AAAA;AAAA,oCAASpB,IAAT,CAAcqB,SAAd;AAAA;AAAA,uCAAb;;AACA,cAAI,CAACD,IAAL,EAAW;AACP;AAAA;AAAA,sCAASpB,IAAT,CAAcsB,MAAd;AAAA;AAAA;AACH;AACJ;;AAvC6C,O","sourcesContent":["import { _decorator, Component, ERaycast2DType, find, Label, Node, NodeEventType, PhysicsSystem2D, Tween, tween, v2, v3, Vec2, Vec3 } from 'cc';\r\nimport { EventDispatcher } from '../core_tgx/easy_ui_framework/EventDispatcher';\r\nimport { StormSunderGlobalInstance } from './Script/StormSunderGlobalInstance';\r\nimport { GameEvent } from './Script/Enum/GameEvent';\r\nimport { GameUtil } from './Script/GameUtil';\r\n\r\nimport { tgxUIMgr } from '../core_tgx/tgx';\r\nimport { UI_Setting } from '../scripts/UIDef';\r\nimport { StormSunderAudioMgr } from './Script/Manager/StormSunderAudioMgr';\r\nimport { GameMgr, GameStatus } from './Script/Manager/GameMgr';\r\nimport { AttributeBonusMgr } from './Script/Manager/AttributeBonusMgr';\r\nimport { PlayerMgr } from './Script/Manager/PlayerMgr';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('RoosterStormSunder')\r\nexport class RoosterStormSunder extends Component {\r\n\r\n    onLoad() {\r\n        AttributeBonusMgr.inst.initilize();\r\n        StormSunderAudioMgr.initilize();\r\n        // StormSunderAudioMgr.play(StormSunderAudioMgr.getMusicIdName(1), 1.0);\r\n    }\r\n\r\n    protected start(): void {\r\n        this.initialize();\r\n        this.registerListener();\r\n    }\r\n\r\n    async initialize() {\r\n        PlayerMgr.inst.addAIPlayers();\r\n        PlayerMgr.inst.weightGeneateAIConfig();\r\n        StormSunderGlobalInstance.instance.initUI();\r\n    }\r\n\r\n    registerListener() {\r\n        const btnRefresh = StormSunderGlobalInstance.instance.btnRefresh;\r\n        const btnSet = StormSunderGlobalInstance.instance.btnSet;\r\n        const btnStart = StormSunderGlobalInstance.instance.btnStart;\r\n\r\n        btnSet.on(NodeEventType.TOUCH_END, () => this.onClickSet(), this);\r\n        btnStart.on(NodeEventType.TOUCH_END, () => this.onClickStart(), this);\r\n    }\r\n\r\n    private async onClickStart(): Promise<void> {\r\n        GameUtil.delay(0.2);\r\n        GameMgr.inst.startGame();\r\n    }\r\n\r\n    private onClickSet(): void {\r\n        StormSunderAudioMgr.playOneShot(StormSunderAudioMgr.getMusicIdName(2), 1.0);\r\n        const show = tgxUIMgr.inst.isShowing(UI_Setting);\r\n        if (!show) {\r\n            tgxUIMgr.inst.showUI(UI_Setting);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n"]}